#!/bin/sh
set -eu

# shellcheck disable=SC1090
. ~/git-shell-commands/.git-shell-lib

usage(){
  printf '%s\n' "usage: ${0##*/} SECTION REPOSITORY"
  printf '%s\n' "regex: ^[A-Za-z0-9][A-Za-z0-9_.-]\+[A-Za-z0-9]$"
  exit 1
}

test -n "${2-}" || usage
section="$2"
test_name "$section"
repo="$2"
test_name "$repo"
clean_repo_name

# shellcheck disable=SC2154
cat | cut -c 1-80 | tee "$base/$section/$repo/description"
