# yamllint disable-line rule:line-length
# SPDX-FileCopyrightText: 2023 - 2024 Benjamin Grande M. S. <ben.grande.b@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

---
repos:
  - repo: local
    hooks:

      - id: unicode-prohibit
        name: unicode-prohibit
        entry: scripts/unicode-prohibit.sh
        language: script
        pass_filenames: true
        description: Prohibit Unicode

      - id: spell-lint
        name: spell-lint
        entry: scripts/spell-lint.sh
        language: script
        pass_filenames: true
        description: Spellcheck files

      - id: shell-lint
        name: shell-lint
        entry: scripts/shell-lint.sh
        language: script
        pass_filenames: true
        description: Lint Shellscripts

      - id: markdown-lint
        name: markdown-lint
        entry: scripts/markdown-lint.sh
        language: script
        pass_filenames: true
        files: \.md$
        description: Lint markdown files

      - id: python-lint
        name: python-lint
        entry: scripts/python-lint.sh
        language: script
        pass_filenames: true
        files: \.py$
        description: Lint python files

      - id: salt-lint
        name: salt-lint
        entry: scripts/salt-lint.sh
        language: script
        pass_filenames: true
        files: \.(sls|top)$
        description: Lint Salt files

      - id: yaml-lint
        name: yaml-lint
        entry: scripts/yaml-lint.sh
        language: script
        pass_filenames: true
        files: \.(yaml|yml)$
        description: Lint YAML files

      - id: qubesbuilder-gen
        name: qubesbuilder-gen
        entry: scripts/qubesbuilder-gen.sh
        args: [test]
        language: script
        pass_filenames: false
        description: Check if .qubesbuilder is up to date

        # TODO: generate temporary spec and compare against staged one.
        # - id: spec-gen
        #   name: spec-gen
        #   language: script
        #   entry: scripts/spec-gen.sh test
        #   args: [test]
        #   # pass_filenames: true
        #   description: Check if RPM SPEC files are up to date

      - id: reuse-lint
        name: reuse-lint
        entry: reuse
        args: [lint]
        language: python
        pass_filenames: false
        description: Lint files to comply with the REUSE Specification

      - id: git-lint
        name: git-lint
        language: python
        entry: gitlint
        args: [--staged, --msg-filename]
        stages: [commit-msg]
        pass_filenames: true
        description: Lint Git commits
