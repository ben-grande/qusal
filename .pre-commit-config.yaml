# SPDX-FileCopyrightText: 2023 - 2024 Benjamin Grande M. S. <ben.grande.b@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

---
repos:
  - repo: local
    hooks:

      - id: unicode-prohibit
        name: unicode-prohibit
        entry: scripts/unicode-prohibit.sh
        language: script
        pass_filenames: true
        description: Prohibit Unicode

      - id: reuse-lint
        name: reuse-lint
        entry: reuse
        args: [lint]
        language: python
        pass_filenames: false
        description: Lint files to comply with the REUSE Specification

      - id: markdown-lint
        name: markdown-lint
        entry: scripts/markdown-lint.sh
        language: script
        pass_filenames: true
        description: Lint markdown files

      - id: python-lint
        name: python-lint
        entry: scripts/python-lint.sh
        language: script
        pass_filenames: true
        description: Lint python files

      - id: salt-lint
        name: salt-lint
        entry: scripts/salt-lint.sh
        language: script
        pass_filenames: true
        description: Lint Salt files

      - id: shell-lint
        name: shell-lint
        entry: scripts/shell-lint.sh
        language: script
        pass_filenames: true
        description: Lint Shellscripts

      - id: qubesbuilder-gen
        name: qubesbuilder-gen
        entry: scripts/qubesbuilder-gen.sh
        args: [test]
        language: script
        pass_filenames: false
        description: Check if .qubesbuilder is up to date

# TODO: generate temporary spec and compare against staged one.
#       - id: spec-gen
#         name: spec-gen
#         language: script
#         entry: scripts/spec-gen.sh test
#         args: [test]
#         # pass_filenames: true
#         description: Check if RPM SPEC files are up to date

      - id: git-lint
        name: git-lint
        language: python
        entry: gitlint
        args: [--staged, --msg-filename]
        stages: [commit-msg]
        pass_filenames: true
        description: Lint Git commits
